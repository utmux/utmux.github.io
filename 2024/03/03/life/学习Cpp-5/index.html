<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="天气：晴天	心情：还好  今天本来打算晚上跑步，但是因为图论作业，所以晚上在写作业。 感觉没啥好玩的PC游戏，甚至有点想下载圆神来看看了，今天一觉睡到了10点，中午去食堂吃完饭就去教室自习学习C++了，晚上七点半左右到寝室，吃完外卖，写完图论作业，玩了会电脑就到晚上10点了。 明天一天的课，加油。  C++中的getline 在C++中有两种getline，一种是cin.getline这是作为is">
<meta property="og:type" content="article">
<meta property="og:title" content="学习Cpp-5">
<meta property="og:url" content="https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/index.html">
<meta property="og:site_name" content="混吃等死">
<meta property="og:description" content="天气：晴天	心情：还好  今天本来打算晚上跑步，但是因为图论作业，所以晚上在写作业。 感觉没啥好玩的PC游戏，甚至有点想下载圆神来看看了，今天一觉睡到了10点，中午去食堂吃完饭就去教室自习学习C++了，晚上七点半左右到寝室，吃完外卖，写完图论作业，玩了会电脑就到晚上10点了。 明天一天的课，加油。  C++中的getline 在C++中有两种getline，一种是cin.getline这是作为is">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-03-03T14:11:26.000Z">
<meta property="article:modified_time" content="2024-03-03T14:14:04.888Z">
<meta property="article:author" content="YQX">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>学习Cpp-5</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/nampsec">项目</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2024/03/02/life/%E5%AD%A6%E4%B9%A0Cpp-4/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&text=学习Cpp-5"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&is_video=false&description=学习Cpp-5"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=学习Cpp-5&body=Check out this article: https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&name=学习Cpp-5&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&t=学习Cpp-5"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84getline"><span class="toc-number">1.</span> <span class="toc-text"> C++中的getline</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-number">2.</span> <span class="toc-text"> C++中的字符编码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text"> C++中的结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5bit-field"><span class="toc-number">4.</span> <span class="toc-text"> C++中的字段（bit field）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E5%85%B1%E7%94%A8%E4%BD%93union"><span class="toc-number">5.</span> <span class="toc-text"> C++中的共用体（Union）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E6%9E%9A%E4%B8%BEenumerate"><span class="toc-number">6.</span> <span class="toc-text"> C++中的枚举（enumerate）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-number">7.</span> <span class="toc-text"> C++中的指针</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#tipscout%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E9%92%88"><span class="toc-number">7.1.</span> <span class="toc-text"> tips：cout的字符串指针</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#tips%E5%A0%86%E4%B8%8E%E6%A0%88"><span class="toc-number">7.2.</span> <span class="toc-text"> tips：堆与栈</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98"><span class="toc-number">7.3.</span> <span class="toc-text"> 释放内存：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%81%94%E7%BC%96%E5%92%8C%E5%8A%A8%E6%80%81%E8%81%94%E7%BC%96"><span class="toc-number">7.4.</span> <span class="toc-text"> 静态联编和动态联编</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">7.5.</span> <span class="toc-text"> 注意</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c-%E4%B8%AD%E7%9A%84%E8%87%AA%E5%8A%A8%E5%AD%98%E5%82%A8%E9%9D%99%E6%80%81%E5%AD%98%E5%82%A8%E5%92%8C%E5%8A%A8%E6%80%81%E5%AD%98%E5%82%A8"><span class="toc-number">8.</span> <span class="toc-text"> C++ 中的自动存储，静态存储和动态存储</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%AD%98%E5%82%A8"><span class="toc-number">8.1.</span> <span class="toc-text"> 自动存储</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%AD%98%E5%82%A8"><span class="toc-number">8.2.</span> <span class="toc-text"> 静态存储</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%AD%98%E5%82%A8"><span class="toc-number">8.3.</span> <span class="toc-text"> 动态存储</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#const%E4%B8%8D%E5%90%8C%E4%BA%8Edefine"><span class="toc-number">9.</span> <span class="toc-text"> const不同于define</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#auto%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">10.</span> <span class="toc-text"> auto的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BBvector%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%B1%BBarray"><span class="toc-number">11.</span> <span class="toc-text"> 模板类vector和模板类array</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84for%E5%BE%AA%E7%8E%AF"><span class="toc-number">12.</span> <span class="toc-text"> C++中的for循环</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E4%B8%8E-%E5%AF%B9%E6%AF%94"><span class="toc-number">13.</span> <span class="toc-text"> C中的与--对比</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        学习Cpp-5
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">YQX</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-03-03T14:11:26.000Z" class="dt-published" itemprop="datePublished">2024-03-03</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/life/">life</a>
    </div>


      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>天气：晴天	心情：还好</p>
<hr />
<p>今天本来打算晚上跑步，但是因为图论作业，所以晚上在写作业。</p>
<p>感觉没啥好玩的PC游戏，甚至有点想下载圆神来看看了，今天一觉睡到了10点，中午去食堂吃完饭就去教室自习学习C++了，晚上七点半左右到寝室，吃完外卖，写完图论作业，玩了会电脑就到晚上10点了。</p>
<p>明天一天的课，加油。</p>
<h5 id="c中的getline"><a class="markdownIt-Anchor" href="#c中的getline"></a> C++中的getline</h5>
<p>在C++中有两种<code>getline</code>，一种是<code>cin.getline</code>这是作为<code>istream</code>的一个类方法，第二种是直接使用<code>getline</code>函数。由于<code>cin</code>最开始并没有考虑<code>string</code>类，故该<code>getline</code>方法仅适用于<code>char</code>数组，示例如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">getline</span>(charr1, ArSize);</span><br></pre></td></tr></table></figure>
<p>但是C++在完善后，<code>cin</code>可以通过<code>&gt;&gt;</code>重载输入<code>string</code>类，即如下所示</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin &gt;&gt; str1; <span class="comment">// str1为string类</span></span><br></pre></td></tr></table></figure>
<p>对于函数<code>getline</code>，其本身就是为<code>string</code>类设计的，故必然支持<code>string</code>类，调用如下所示：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">getline</span>(cin, str1);</span><br></pre></td></tr></table></figure>
<h5 id="c中的字符编码"><a class="markdownIt-Anchor" href="#c中的字符编码"></a> C++中的字符编码</h5>
<p>如之前所示，前缀L代表wchar_t类型，前缀u代表char16_t而前缀U代表char32_t类型。除此之外还有前缀u8代表UTF-8这种类型字符。<br />
类似于python，C++中使用前缀R代表后面是一串未转码的字符串，此时字符串可以由<code>&quot;abc...(</code>开头，以<code>)abc...&quot;</code>结尾（其中<code>abc</code>是除了空格和左右括号以及控制字符例如制表符之外的所有基本字符）。示例如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; <span class="string">R&quot;-+(newline is not a \n)-+&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>对于其他类型的字符，可以通过Ru，UR不分前后结合字符串前缀使用，使其为未转码字符。</p>
<h5 id="c中的结构"><a class="markdownIt-Anchor" href="#c中的结构"></a> C++中的结构</h5>
<p>C++中可以省略struct关键字来声明struct变量，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">inflatable</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">	<span class="type">float</span> volume;</span><br><span class="line">	<span class="type">double</span> price;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">inflatable</span> a;</span><br><span class="line">inflatable b; <span class="comment">// 两者效果是一样的</span></span><br></pre></td></tr></table></figure>
<p>在C<ins>中一般推荐将struct结构体声明放在main函数外也就是全局变量，以便于其他文件使用。类似于C语言，相同的结构体可以直接用等于号<code>=</code>直接赋值。类似于C中的高级用法指针函数，C</ins>中结构体成员也可以为函数指针。</p>
<h5 id="c中的字段bit-field"><a class="markdownIt-Anchor" href="#c中的字段bit-field"></a> C++中的字段（bit field）</h5>
<p>如下所示，可以不命名成员变量来跳过某些不用的位。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">torgle_register</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> SN : <span class="number">4</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> : <span class="number">4</span>; <span class="comment">// 没有名称,跳过这四位</span></span><br><span class="line">	<span class="type">bool</span> goodIn : <span class="number">1</span>;</span><br><span class="line">	<span class="type">bool</span> goodTorgle : <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="c中的共用体union"><a class="markdownIt-Anchor" href="#c中的共用体union"></a> C++中的共用体（Union）</h5>
<p>共用体的用途之一是，当数据项使用两种或更多种格式（但不会同时使用）时，可节省空间。例如某个商品id可能是数字和字符串。除此之外，匿名共用体也经常用于结构体之中，下面是一个例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">widget</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> brand[<span class="number">20</span>];</span><br><span class="line">	<span class="type">int</span> type;</span><br><span class="line">	<span class="keyword">union</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">long</span> id_num;</span><br><span class="line">		<span class="type">char</span> id_char[<span class="number">20</span>];</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line">widget prize;</span><br><span class="line">cin &gt;&gt; prize.id_num;</span><br><span class="line">cin &gt;&gt; prize.id_char;</span><br></pre></td></tr></table></figure>
<h5 id="c中的枚举enumerate"><a class="markdownIt-Anchor" href="#c中的枚举enumerate"></a> C++中的枚举（enumerate）</h5>
<p>和C语言类似，枚举类型只能用定义的枚举类型给它，而不能赋值为整数，不能使用加法等运算符。枚举类型只定义了等于号运算符。枚举类型可以赋值给整型数，而反过来不可以，但如果int值是有效的，可以通过强制类型转换赋值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">fruit</span> &#123;apple, orange&#125;;</span><br><span class="line">fruit test = apple; <span class="comment">//合法</span></span><br><span class="line">fruit test2 = <span class="number">0</span>; <span class="comment">//非法</span></span><br><span class="line">test2++; <span class="comment">//非法</span></span><br><span class="line">test2 = <span class="built_in">fruit</span>(<span class="number">0</span>); <span class="comment">// 强制类型转换,且在范围内,合法</span></span><br></pre></td></tr></table></figure>
<p>枚举常常被用于switch语句中，类似于struct和union，其也可以匿名：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> &#123;one = <span class="number">1</span>, two = <span class="number">2</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>值得注意的是C<ins>中枚举的范围，在C语言中，只有定义的枚举才是有效的。然而，C</ins>现在通过强制类型转换，增加了 可赋给枚举变量的合法值。每个枚举都有取值范围（range），通过强制类型转换，可以将取值范围中的任 何整数值赋给枚举变量，即使这个值不是枚举值。假设枚举最大值为X，则其最大有效值为：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X &lt;= <span class="built_in">min</span>(<span class="number">2</span>^m - <span class="number">1</span>) <span class="comment">// m为整数</span></span><br></pre></td></tr></table></figure>
<p>同理假设枚举类型中的最小值为Y，其最小有效值为：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">max</span>((+/-)(<span class="number">2</span>^m - <span class="number">1</span>)) &lt;= Y <span class="comment">// m为整数</span></span><br></pre></td></tr></table></figure>
<h5 id="c中的指针"><a class="markdownIt-Anchor" href="#c中的指针"></a> C++中的指针</h5>
<p><strong>在指针初始化后，一定要将指针初始化为一个确定的、适当的地址，比如NULL。</strong></p>
<p>指针最大的用途是管理未定义的分配的内存空间，在程序中我们可以通过定义变量通过变量名来访问分配的内存，而通过malloc或者C<ins>中的new，指针可以访问哪些没有变量名的内存。C</ins>中指针一般和new搭配使用，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">typeName * pointer_name = <span class="keyword">new</span> typeName [num];</span><br></pre></td></tr></table></figure>
<p>在C++中数组名和指针是等价的，且有：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrary[i] equal *(arrary + i)</span><br></pre></td></tr></table></figure>
<p>不同的是对数组使用sizeof会得到数组的字节，而对指针使用sizeof得到的是指针变量的大小。</p>
<h6 id="tipscout的字符串指针"><a class="markdownIt-Anchor" href="#tipscout的字符串指针"></a> tips：cout的字符串指针</h6>
<p>一般来说，如果给 <code>cout</code> 提供一个指针，它将打印地址。但如果指针的类型为 <code>char *</code>，则 <code>cout</code> 将显示指向的字符串。如果要显示的是字符串的地址，则必须将这种指针强制转换为另一种指针类型，如 <code>int *</code>，比如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;address: &quot;</span> &lt;&lt; (<span class="type">int</span> *)name &lt;&lt; endl; <span class="comment">// 不能直接使用name</span></span><br></pre></td></tr></table></figure>
<h6 id="tips堆与栈"><a class="markdownIt-Anchor" href="#tips堆与栈"></a> tips：堆与栈</h6>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在程序中定义的变量一般在栈(stack)中,而通过new或者allocate这种方法分配的内存一般在堆(heap)中.</span><br></pre></td></tr></table></figure>
<h6 id="释放内存"><a class="markdownIt-Anchor" href="#释放内存"></a> 释放内存：</h6>
<p>通过delete函数类似于C语言中的free函数一样，可以释放指针所指向的内存，值得注意的是：<br />
<strong>不要尝试释放已经释放的内存块，C++标准指出，这样做的结果将是不确定的，这意味着什么情况都 可能发生。另外，不能使用 delete 来释放声明变量所获得的内存</strong></p>
<h6 id="静态联编和动态联编"><a class="markdownIt-Anchor" href="#静态联编和动态联编"></a> 静态联编和动态联编</h6>
<p>在程序中如果通过声明创建数组，这代表不论该数组是否使用，都将占用内存，且要提前分配，这叫做静态联编，而对于动态数组，使用内存会在使用其的时候才发生变化，这叫做动态联编。</p>
<h6 id="注意"><a class="markdownIt-Anchor" href="#注意"></a> 注意</h6>
<ul>
<li>
<p><strong>不要使用 delete 来释放不是 new 分配的内存。</strong></p>
</li>
<li>
<p><strong>不要使用 delete 释放同一个内存块两次。</strong></p>
</li>
<li>
<p><strong>如果使用 new [ ]为数组分配内存，则应使用 delete [ ]来释放。</strong></p>
</li>
<li>
<p><strong>如果使用 new [ ]为一个实体分配内存，则应使用 delete（没有方括号）来释放。</strong></p>
</li>
<li>
<p><strong>对空指针应用 delete 是安全的。</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> * p10 = <span class="keyword">new</span> <span class="type">int</span> [<span class="number">10</span>];</span><br><span class="line">p10[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">p10[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">delete</span> [] p10;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="c-中的自动存储静态存储和动态存储"><a class="markdownIt-Anchor" href="#c-中的自动存储静态存储和动态存储"></a> C++ 中的自动存储，静态存储和动态存储</h5>
<h6 id="自动存储"><a class="markdownIt-Anchor" href="#自动存储"></a> 自动存储</h6>
<p>存在栈中，在离开代码块的时候按照后入先出的顺序销毁释放这些变量。</p>
<h6 id="静态存储"><a class="markdownIt-Anchor" href="#静态存储"></a> 静态存储</h6>
<p>存在与整个程序的生命周期中，静态存储变量通常存储在程序的数据段（data segment）或者在程序的bss段（bss segment）中。</p>
<h6 id="动态存储"><a class="markdownIt-Anchor" href="#动态存储"></a> 动态存储</h6>
<p>通过new或者delete来申请和销毁内存，存在与堆（heap）中。</p>
<h5 id="const不同于define"><a class="markdownIt-Anchor" href="#const不同于define"></a> const不同于define</h5>
<p>define是预处理命令必须在文件头，而const可以定义在程序的任何位置，比如说在程序中定义了一个变量然后接受了输入值，我需要定义一个常量的值等于该变量的值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> input;</span><br><span class="line">cin &gt;&gt; input;</span><br><span class="line"><span class="type">const</span> input_const = input;</span><br></pre></td></tr></table></figure>
<h5 id="auto的使用"><a class="markdownIt-Anchor" href="#auto的使用"></a> auto的使用</h5>
<p>在引入数组和const后，如何定义一个合适的指针变量是一个巨大的难题，比如定义一个指向下面这个变量的指针：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> antarctica_year_end * arp[<span class="number">3</span>] = &#123;&amp;s01, &amp;s02, &amp;s03&#125;;</span><br></pre></td></tr></table></figure>
<p>事实上通过auto可以方便快速的实现这种方法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> ppb = arp;</span><br></pre></td></tr></table></figure>
<h5 id="模板类vector和模板类array"><a class="markdownIt-Anchor" href="#模板类vector和模板类array"></a> 模板类vector和模板类array</h5>
<p>vector是类似于string的一种动态数组，其效率比数组稍低，如果是长度固定的数组还是建议使用数组。vector的使用：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">vector&lt;typeName&gt; <span class="title">vt</span><span class="params">(n_elem)</span></span>; <span class="comment">// n_elem可以为整形变量</span></span><br></pre></td></tr></table></figure>
<p>array于数组效率一样，且相比数组更加安全，使用如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">array&lt;typeName, n_elem&gt; arr; <span class="comment">// 这里的n_elem不可以为变量</span></span><br></pre></td></tr></table></figure>
<p>vector与array都可以使用列表初始化，不同的是array和数组类似，存放在栈中，而vector存放在堆中，array相比数组，可以直接用数组的等于符号，直接用一个数组等于另一个数组。array定义的数组使用<code>[]</code>当序列不正确时仍会导致越界，不过其提供了一种方法确保不会越界就是：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array&lt;<span class="type">double</span>, 4&gt; arr;</span><br><span class="line">arr.<span class="built_in">at</span>(<span class="number">1</span>) = <span class="number">2</span>; <span class="comment">// 相比arr[1] = 2;其运行速度慢了一点因为检查边界</span></span><br><span class="line">arr.<span class="built_in">begin</span>(); <span class="comment">//返回该数组的开始序列</span></span><br><span class="line">arr.<span class="built_in">end</span>(); <span class="comment">//返回该数组的结束序列</span></span><br></pre></td></tr></table></figure>
<h5 id="c中的for循环"><a class="markdownIt-Anchor" href="#c中的for循环"></a> C++中的for循环</h5>
<p>在 for-init-statement 中声明变量还有其实用的一面，这也是应该知道的。这种变量只存在于 for 语句中，也就是说，当程序离开循环后，这种变量将消失：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;<span class="number">5</span>; i++); <span class="comment">//这里的i在for循环后就丢弃,非常有用</span></span><br></pre></td></tr></table></figure>
<h5 id="c中的与-对比"><a class="markdownIt-Anchor" href="#c中的与-对比"></a> C<ins>中的</ins>与--对比</h5>
<p>总之，对于内置类型，采用哪种格式不会有差别；但对于用户定义的类型，如果有用户定义的递增和递减运算符，则前缀格式的效率更高。前缀如<ins>i时直接将i加一返回，而i</ins>首先需要复制一个副本，再加一</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">关于</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/categories/">分类</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/nampsec">项目</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84getline"><span class="toc-number">1.</span> <span class="toc-text"> C++中的getline</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-number">2.</span> <span class="toc-text"> C++中的字符编码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text"> C++中的结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5bit-field"><span class="toc-number">4.</span> <span class="toc-text"> C++中的字段（bit field）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E5%85%B1%E7%94%A8%E4%BD%93union"><span class="toc-number">5.</span> <span class="toc-text"> C++中的共用体（Union）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E6%9E%9A%E4%B8%BEenumerate"><span class="toc-number">6.</span> <span class="toc-text"> C++中的枚举（enumerate）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-number">7.</span> <span class="toc-text"> C++中的指针</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#tipscout%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E9%92%88"><span class="toc-number">7.1.</span> <span class="toc-text"> tips：cout的字符串指针</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#tips%E5%A0%86%E4%B8%8E%E6%A0%88"><span class="toc-number">7.2.</span> <span class="toc-text"> tips：堆与栈</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98"><span class="toc-number">7.3.</span> <span class="toc-text"> 释放内存：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%81%94%E7%BC%96%E5%92%8C%E5%8A%A8%E6%80%81%E8%81%94%E7%BC%96"><span class="toc-number">7.4.</span> <span class="toc-text"> 静态联编和动态联编</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">7.5.</span> <span class="toc-text"> 注意</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c-%E4%B8%AD%E7%9A%84%E8%87%AA%E5%8A%A8%E5%AD%98%E5%82%A8%E9%9D%99%E6%80%81%E5%AD%98%E5%82%A8%E5%92%8C%E5%8A%A8%E6%80%81%E5%AD%98%E5%82%A8"><span class="toc-number">8.</span> <span class="toc-text"> C++ 中的自动存储，静态存储和动态存储</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%AD%98%E5%82%A8"><span class="toc-number">8.1.</span> <span class="toc-text"> 自动存储</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%AD%98%E5%82%A8"><span class="toc-number">8.2.</span> <span class="toc-text"> 静态存储</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%AD%98%E5%82%A8"><span class="toc-number">8.3.</span> <span class="toc-text"> 动态存储</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#const%E4%B8%8D%E5%90%8C%E4%BA%8Edefine"><span class="toc-number">9.</span> <span class="toc-text"> const不同于define</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#auto%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">10.</span> <span class="toc-text"> auto的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BBvector%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%B1%BBarray"><span class="toc-number">11.</span> <span class="toc-text"> 模板类vector和模板类array</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84for%E5%BE%AA%E7%8E%AF"><span class="toc-number">12.</span> <span class="toc-text"> C++中的for循环</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#c%E4%B8%AD%E7%9A%84%E4%B8%8E-%E5%AF%B9%E6%AF%94"><span class="toc-number">13.</span> <span class="toc-text"> C中的与--对比</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&text=学习Cpp-5"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&is_video=false&description=学习Cpp-5"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=学习Cpp-5&body=Check out this article: https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&title=学习Cpp-5"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&name=学习Cpp-5&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://nampsec.github.io/2024/03/03/life/%E5%AD%A6%E4%B9%A0Cpp-5/&t=学习Cpp-5"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2024
    YQX
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/nampsec">项目</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
